<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>MathLex Demo</title>
    <link rel="stylesheet" href="css/normalize.min.css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Inconsolata" />
    <link rel="stylesheet" href="css/jquery-ui-1.8.18.custom.css">
    <link rel="stylesheet" href="css/style.min.css" />

    <!-- Attempt to load MathJax from CDN; fall back to local if offline -->
    <script src="//d3eoax9i5htok0.cloudfront.net/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script>window.MathJax || document.write('<script src="js/libs/MathJax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>');</script>
</head>
<body>
    <header>
        <h1>MathLex</h1>
        <div class="version-corner-ribbon"><div>v1.0 &beta;5</div></div>
        <span class="subtitle">Math Parser and Renderer<br/>Matthew J. Barry</span>
    </header>
    <div role="main">
        <div class="toolbars">
            
                <div class="ribbon">
                    <div class="tabs">
                        <strong>Syntax:</strong>
                        
                            <a href="#" data-target=".constants">Constants</a>
                        
                            <a href="#" data-target=".greek">Greek</a>
                        
                            <a href="#" data-target=".unary">Unary</a>
                        
                            <a href="#" data-target=".binary">Binary</a>
                        
                            <a href="#" data-target=".relations">Relations</a>
                        
                            <a href="#" data-target=".delimiters">Delimiters</a>
                        
                            <a href="#" data-target=".intervals">Intervals</a>
                        
                            <a href="#" data-target=".trig_functions">Trig Functions</a>
                        
                            <a href="#" data-target=".functions">Functions</a>
                        
                    </div>
                    
                        <div class="constants toolbar">
                            
                                <div>
                                    <a href="#" data-content="#pi" title="pi">\(\pi\)</a><a href="#" data-content="#e" title="e">\(\mathrm{e}\)</a><a href="#" data-content="#gamma" title="gamma constant">\(\gamma\)</a><a href="#" data-content="#i" title="imaginary unit">\(i\)</a><a href="#" data-content="infinity" title="infinity">\(\infty\)</a><a href="#" data-content="true" title="true">\(\mathbf{T}\)</a><a href="#" data-content="false" title="false">\(\mathbf{F}\)</a><a href="#" data-content="#N" title="natural numbers">\(\mathbb{N}\)</a><a href="#" data-content="#Z" title="integers">\(\mathbb{Z}\)</a><a href="#" data-content="#Q" title="rational numbers">\(\mathbb{Q}\)</a><a href="#" data-content="#R" title="real numbers">\(\mathbb{R}\)</a><a href="#" data-content="#C" title="complex numbers">\(\mathbb{C}\)</a><a href="#" data-content="#H" title="quaternion numbers">\(\mathbb{H}\)</a><a href="#" data-content="#O" title="octonian numbers">\(\mathbb{O}\)</a><a href="#" data-content="#U" title="universal set">\(\mathbb{U}\)</a><a href="#" data-content="{}" title="empty set">\(\emptyset\)</a><a href="#" data-content="#v0" title="zero vector">\(\vec{0}\)</a><a href="#" data-content="#ui" title="x unit vector">\(\hat\imath\)</a><a href="#" data-content="#uj" title="y unit vector">\(\hat\jmath\)</a><a href="#" data-content="#uk" title="z unit vector">\(\hat{k}\)</a><a href="#" data-content="#0" title="zero matrix">\(\mathbf{0}\)</a><a href="#" data-content="#1" title="identity/unit matrix">\(\mathbf{I}\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="greek toolbar">
                            
                                <div>
                                    <a href="#" data-content="alpha" title="alpha">\(\alpha\)</a><a href="#" data-content="beta" title="beta">\(\beta\)</a><a href="#" data-content="gamma" title="gamma">\(\gamma\)</a><a href="#" data-content="delta" title="delta">\(\delta\)</a><a href="#" data-content="epsilon" title="epsilon">\(\epsilon\)</a><a href="#" data-content="vepsilon" title="epsilon (alt)">\(\varepsilon\)</a><a href="#" data-content="zeta" title="zeta">\(\zeta\)</a><a href="#" data-content="eta" title="eta">\(\eta\)</a><a href="#" data-content="theta" title="theta">\(\theta\)</a><a href="#" data-content="vtheta" title="theta (alt)">\(\vartheta\)</a><a href="#" data-content="iota" title="iota">\(\iota\)</a><a href="#" data-content="kappa" title="kappa">\(\kappa\)</a><a href="#" data-content="lambda" title="lambda">\(\lambda\)</a><a href="#" data-content="mu" title="mu">\(\mu\)</a><a href="#" data-content="nu" title="nu">\(\nu\)</a><a href="#" data-content="xi" title="xi">\(\xi\)</a><a href="#" data-content="omicron" title="omicron">\(o\)</a><a href="#" data-content="pi" title="pi">\(\pi\)</a><a href="#" data-content="pomega" title="pi (alt) &quot;pomega&quot;">\(\varpi\)</a><a href="#" data-content="rho" title="rho">\(\rho\)</a><a href="#" data-content="vrho" title="rho (alt)">\(\varrho\)</a><a href="#" data-content="sigma" title="sigma">\(\sigma\)</a><a href="#" data-content="vsigma" title="sigma (alt)">\(\varsigma\)</a><a href="#" data-content="tau" title="tau">\(\tau\)</a><a href="#" data-content="upsilon" title="upsilon">\(\upsilon\)</a><a href="#" data-content="phi" title="phi">\(\phi\)</a><a href="#" data-content="vphi" title="phi (alt)">\(\varphi\)</a><a href="#" data-content="chi" title="chi">\(\chi\)</a><a href="#" data-content="psi" title="psi">\(\psi\)</a><a href="#" data-content="omega" title="omega">\(\omega\)</a>
                                </div>
                            
                                <div>
                                    <a href="#" data-content="Alpha" title="alpha">\(A\)</a><a href="#" data-content="Beta" title="beta">\(B\)</a><a href="#" data-content="Gamma" title="gamma">\(\Gamma\)</a><a href="#" data-content="Delta" title="delta">\(\Delta\)</a><a href="#" data-content="Epsilon" title="epsilon">\(E\)</a><a href="#" data-content="Zeta" title="zeta">\(Z\)</a><a href="#" data-content="Eta" title="eta">\(H\)</a><a href="#" data-content="Theta" title="theta">\(\Theta\)</a><a href="#" data-content="Iota" title="iota">\(I\)</a><a href="#" data-content="Kappa" title="kappa">\(K\)</a><a href="#" data-content="Lambda" title="lambda">\(\Lambda\)</a><a href="#" data-content="Mu" title="mu">\(M\)</a><a href="#" data-content="Nu" title="nu">\(N\)</a><a href="#" data-content="Xi" title="xi">\(\Xi\)</a><a href="#" data-content="Omicron" title="omicron">\(O\)</a><a href="#" data-content="Pi" title="pi">\(\Pi\)</a><a href="#" data-content="Rho" title="rho">\(P\)</a><a href="#" data-content="Sigma" title="sigma">\(\Sigma\)</a><a href="#" data-content="Tau" title="tau">\(T\)</a><a href="#" data-content="Upsilon" title="upsilon">\(\Upsilon\)</a><a href="#" data-content="Phi" title="phi">\(\Phi\)</a><a href="#" data-content="Chi" title="chi">\(X\)</a><a href="#" data-content="Psi" title="psi">\(\Psi\)</a><a href="#" data-content="Omega" title="omega">\(\Omega\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="unary toolbar">
                            
                                <div>
                                    <a href="#" data-content="+" title="positive">\(+\)</a><a href="#" data-content="-" title="negative">\(-\)</a><a href="#" data-content="&amp;pm" title="positive or negative">\(\pm\)</a><a href="#" data-content="&amp;mp" title="negative or positive">\(\mp\)</a><a href="#" data-content="sqrt({%-CURSOR-%})" title="square root">\(\sqrt{}\)</a><a href="#" data-content="!" title="factorial">\(!\)</a><a href="#" data-content="exp({%-CURSOR-%})" title="natural exponentiation">\(\exp{}\)</a><a href="#" data-content="ln({%-CURSOR-%})" title="natural log">\(\ln{}\)</a><a href="#" data-content="~" title="logical negation">\(\neg\)</a><a href="#" data-content="f &#x27;" title="prime derivative">\(f&#x27;\)</a><a href="#" data-content="x ." title="dot derivative">\(\dot{x}\)</a><a href="#" data-content="&amp;D" title="coordinate difference">\(\Delta\)</a><a href="#" data-content="&amp;d" title="differential">\(\mathrm{d}\)</a><a href="#" data-content="&amp;pd" title="partial differential">\(\partial\)</a><a href="#" data-content="&amp;v u" title="vector">\(\vec{u}\)</a><a href="#" data-content="&amp;u u" title="unit vector">\(\hat{u}\)</a><a href="#" data-content="&amp;del" title="gradient">\(\vec\nabla\)</a><a href="#" data-content="&amp;del." title="divergence">\(\vec\nabla \cdot\)</a><a href="#" data-content="&amp;delx" title="curl">\(\vec\nabla \times\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="binary toolbar">
                            
                                <div>
                                    <a href="#" data-content="+" title="plus">\(+\)</a><a href="#" data-content="-" title="minus">\(-\)</a><a href="#" data-content="&amp;pm" title="plus or minus">\(\pm\)</a><a href="#" data-content="&amp;mp" title="minus or plus">\(\mp\)</a><a href="#" data-content="*" title="times">\(*\)</a><a href="#" data-content="/" title="divided by">\(/\)</a><a href="#" data-content="^" title="power">\({}^\wedge\)</a><a href="#" data-content="root(a,n)" title="nth root">\(\sqrt[n]{}\)</a><a href="#" data-content="log(a,b)" title="log with base">\(\log_b{a}\)</a><a href="#" data-content="::" title="ratio">\(::\)</a><a href="#" data-content=" mod " title="modulus">\(\mathrm{mod}\)</a><a href="#" data-content="&amp;_" title="subscript">\(\square_\square\)</a><a href="#" data-content="&amp;^" title="superscript">\(\square^\square\)</a><a href="#" data-content=" union " title="union">\(\cup\)</a><a href="#" data-content=" intersect " title="intersection">\(\cap\)</a><a href="#" data-content="\" title="set difference">\(\setminus\)</a><a href="#" data-content="&amp;*" title="cartesian product">\(\times\)</a><a href="#" data-content="&amp;o+" title="direct sum">\(\oplus\)</a><a href="#" data-content=":" title="such that">\(:\)</a><a href="#" data-content="&amp;&amp;" title="logical and">\(\wedge\)</a><a href="#" data-content="||" title="logical or">\(\vee\)</a><a href="#" data-content=" xor " title="logical exclusive or">\(\oplus\)</a><a href="#" data-content="-&gt;" title="implies">\(\rightarrow\)</a><a href="#" data-content="&lt;-" title="implied by">\(\leftarrow\)</a><a href="#" data-content="&lt;-&gt;" title="if and only if">\(\leftrightarrow\)</a><a href="#" data-content=" forall {%-CURSOR-%} , " title="universal quantification (&quot;for all&quot;)">\(\forall\)</a><a href="#" data-content=" exists {%-CURSOR-%} : " title="existential quantification (&quot;there exists&quot;)">\(\exists\)</a><a href="#" data-content=" unique {%-CURSOR-%} : " title="unique quantification (&quot;there exists a unique&quot;)">\(\exists !\)</a><a href="#" data-content="@" title="function composition">\(\circ\)</a><a href="#" data-content="&amp;." title="dot product">\(\cdot\)</a><a href="#" data-content="&amp;x" title="cross product">\(\times\)</a><a href="#" data-content="&amp;w" title="wedge product">\(\wedge\)</a><a href="#" data-content="&amp;ox" title="tensor product">\(\otimes\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="relations toolbar">
                            
                                <div>
                                    <a href="#" data-content="=" title="equal">\(=\)</a><a href="#" data-content="!=" title="not equal">\(\ne\)</a><a href="#" data-content="&lt;" title="less than">\(&lt;\)</a><a href="#" data-content="&gt;" title="greater than">\(&gt;\)</a><a href="#" data-content="&lt;=" title="less than or equal">\(\le\)</a><a href="#" data-content="&gt;=" title="greater than or equal">\(\ge\)</a><a href="#" data-content="|" title="divides">\(\mid\)</a><a href="#" data-content="" title="does not divide">\(\nmid\)</a><a href="#" data-content=" as " title="ratio equality">\(\mathrm{as}\)</a><a href="#" data-content=" subset " title="subset">\(\subseteq\)</a><a href="#" data-content=" superset " title="super set">\(\supseteq\)</a><a href="#" data-content=" propsubset " title="proper subset">\(\subset\)</a><a href="#" data-content=" propsuperset " title="proper superset">\(\supset \)</a><a href="#" data-content=" in " title="inclusion">\(\in\)</a><a href="#" data-content="~=" title="congruent">\(\cong\)</a><a href="#" data-content="~" title="similar">\(\sim\)</a><a href="#" data-content=" parallel " title="parallel">\(\parallel\)</a><a href="#" data-content=" perp " title="perpendicular">\(\perp\)</a><a href="#" data-content="===" title="equivalent">\(\equiv\)</a><a href="#" data-content="!==" title="not equivalent">\(\not\equiv\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="delimiters toolbar">
                            
                                <div>
                                    <a href="#" data-content="({%-CURSOR-%})" title="parentheses">\((\,)\)</a><a href="#" data-content="[{%-CURSOR-%}]" title="square brackets (list)">\([\,]\)</a><a href="#" data-content="{{%-CURSOR-%}}" title="curly braces (set)">\(\{\,\}\)</a><a href="#" data-content="&lt;: {%-CURSOR-%} :&gt;" title="angle brackets (vector)">\(\langle\,\rangle\)</a><a href="#" data-content="|: {%-CURSOR-%} :|" title="vertical bars (abs val, length, det, norm)">\(|\,|\)</a><a href="#" data-content="||: {%-CURSOR-%} :||" title="double vertical bars (norm, length)">\(\|\,\|\)</a><a href="#" data-content="floor({%-CURSOR-%})" title="floor">\(\left\lfloor\,\right\rfloor\)</a><a href="#" data-content="ceil({%-CURSOR-%})" title="ceiling">\(\left\lceil\,\right\rceil\)</a><a href="#" data-content="&amp;_" title="subscript">\(\square_\square\)</a><a href="#" data-content="&amp;^" title="superscript">\(\square^\square\)</a><a href="#" data-content="&lt;: {%-CURSOR-%} | :&gt;" title="bra-ket">\(\left\langle\,\mid\,\right\rangle\)</a><a href="#" data-content="&lt; {%-CURSOR-%} |" title="bra">\(\left\langle\,\right|\)</a><a href="#" data-content="| {%-CURSOR-%} &gt;" title="ket">\(\left|\,\right\rangle\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="intervals toolbar">
                            
                                <div>
                                    <a href="#" data-content="(: {%-CURSOR-%} :)" title="open">\(\left(\,\right)\)</a><a href="#" data-content="(: {%-CURSOR-%} :]" title="half-open (left)">\(\left(\,\right]\)</a><a href="#" data-content="[: {%-CURSOR-%} :)" title="half-open (right)">\(\left[\,\right)\)</a><a href="#" data-content="[: {%-CURSOR-%} :]" title="closed">\(\left[\,\right]\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="trig_functions toolbar">
                            
                                <div>
                                    <a href="#" data-content="sin({%-CURSOR-%})" title="sine function">\(\sin{}\)</a><a href="#" data-content="cos({%-CURSOR-%})" title="cosine function">\(\cos{}\)</a><a href="#" data-content="tan({%-CURSOR-%})" title="tangent function">\(\tan{}\)</a><a href="#" data-content="sec({%-CURSOR-%})" title="secant function">\(\sec{}\)</a><a href="#" data-content="csc({%-CURSOR-%})" title="cosecant function">\(\csc{}\)</a><a href="#" data-content="cot({%-CURSOR-%})" title="cotangent function">\(\cot{}\)</a><a href="#" data-content="arcsin({%-CURSOR-%})" title="inverse sine function">\(\arcsin{}\)</a><a href="#" data-content="arccos({%-CURSOR-%})" title="inverse cosine function">\(\arccos{}\)</a><a href="#" data-content="arctan({%-CURSOR-%})" title="inverse tangent function">\(\arctan{}\)</a><a href="#" data-content="arcsec({%-CURSOR-%})" title="inverse secant function">\(\mathrm{arcsec}\)</a><a href="#" data-content="arccsc({%-CURSOR-%})" title="inverse cosecant function">\(\mathrm{arccsc}\)</a><a href="#" data-content="arccot({%-CURSOR-%})" title="inverse cotangent function">\(\mathrm{arccot}\)</a>
                                </div>
                            
                                <div>
                                    <a href="#" data-content="sinh({%-CURSOR-%})" title="hyperbolic sine function">\(\sinh{}\)</a><a href="#" data-content="cosh({%-CURSOR-%})" title="hyperbolic cosine function">\(\cosh{}\)</a><a href="#" data-content="tanh({%-CURSOR-%})" title="hyperbolic tangent function">\(\tanh{}\)</a><a href="#" data-content="sech({%-CURSOR-%})" title="hyperbolic secant function">\(\mathrm{sech}\)</a><a href="#" data-content="csch({%-CURSOR-%})" title="hyperbolic cosecant function">\(\mathrm{csch}\)</a><a href="#" data-content="coth({%-CURSOR-%})" title="hyperbolic cotangent function">\(\coth{}\)</a><a href="#" data-content="arcsinh({%-CURSOR-%})" title="inverse hyperbolic sine function">\(\mathrm{arcsinh}\)</a><a href="#" data-content="arccosh({%-CURSOR-%})" title="inverse hyperbolic cosine function">\(\mathrm{arccosh}\)</a><a href="#" data-content="arctanh({%-CURSOR-%})" title="inverse hyperbolic tangent function">\(\mathrm{arctanh}\)</a><a href="#" data-content="arcsech({%-CURSOR-%})" title="inverse hyperbolic secant function">\(\mathrm{arcsech}\)</a><a href="#" data-content="arccsch({%-CURSOR-%})" title="inverse hyperbolic cosecant function">\(\mathrm{arccsch}\)</a><a href="#" data-content="arccoth({%-CURSOR-%})" title="inverse hyperbolic cotangent function">\(\mathrm{arccoth}\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="functions toolbar">
                            
                                <div>
                                    <a href="#" data-content="abs({%-CURSOR-%})" title="absolute value">\(|\,|\)</a><a href="#" data-content="floor({%-CURSOR-%})" title="floor">\(\left\lfloor\,\right\rfloor\)</a><a href="#" data-content="ceil({%-CURSOR-%})" title="ceiling">\(\left\lceil\,\right\rceil\)</a><a href="#" data-content="sqrt({%-CURSOR-%})" title="square root">\(\sqrt{}\)</a><a href="#" data-content="root(a{%-CURSOR-%},n)" title="nth root">\(\sqrt[n]{}\)</a><a href="#" data-content="exp({%-CURSOR-%})" title="natural exponentiation">\(\exp{}\)</a><a href="#" data-content="ln({%-CURSOR-%})" title="natural log">\(\ln{}\)</a><a href="#" data-content="log(a{%-CURSOR-%},n)" title="log with base">\(\log_n{a}\)</a><a href="#" data-content="C(n{%-CURSOR-%},r)" title="bonimal coefficient (choose/combination)">\(\binom{c}{r}\)</a><a href="#" data-content="P(n{%-CURSOR-%},r)" title="permutation">\(P(n,r)\)</a><a href="#" data-content="lim(f{%-CURSOR-%},x,a)" title="limit">\(\displaystyle\lim_{x\to a} f\)</a><a href="#" data-content="diff(f{%-CURSOR-%},x)" title="differentiation">\(\frac{\mathrm{d}f}{\mathrm{d}x}\)</a><a href="#" data-content="pdiff(f{%-CURSOR-%},x)" title="partial differentiation">\(\frac{\partial f}{\partial x}\)</a><a href="#" data-content="grad({%-CURSOR-%})" title="gradient">\(\mathrm{grad}{\left( f \right)}\)</a><a href="#" data-content="div(&amp;vF{%-CURSOR-%})" title="divergence">\(\mathrm{div}{\left( f \right)}\)</a><a href="#" data-content="curl(&amp;vF{%-CURSOR-%})" title="curl">\(\mathrm{curl}{\left( f \right)}\)</a><a href="#" data-content="int(f{%-CURSOR-%},x)" title="indefinite integration">\(\int f \mathrm{d}x\)</a><a href="#" data-content="int(f{%-CURSOR-%},x,a,b)" title="definite integration">\(\int_a^b f \mathrm{d}x\)</a><a href="#" data-content="sum(f{%-CURSOR-%},i)" title="sum over domain set">\(\sum_i f\)</a><a href="#" data-content="sum(f{%-CURSOR-%},i,a,b)" title="sum over range">\(\sum_{i=a}^b f\)</a><a href="#" data-content="prod(f{%-CURSOR-%},i)" title="product over domain set">\(\prod_i f\)</a><a href="#" data-content="prod(f{%-CURSOR-%},i,a,b)" title="product over range">\(\prod_{i=a}^b f\)</a>
                                </div>
                            
                        </div>
                    
                </div>
            
                <div class="ribbon">
                    <div class="tabs">
                        <strong>Topic:</strong>
                        
                            <a href="#" data-target=".arithmetic">Arithmetic</a>
                        
                            <a href="#" data-target=".algebra">Algebra</a>
                        
                            <a href="#" data-target=".geometry">Geometry</a>
                        
                            <a href="#" data-target=".trigonometry">Trigonometry</a>
                        
                            <a href="#" data-target=".discrete">Discrete</a>
                        
                            <a href="#" data-target=".calculus">Calculus</a>
                        
                            <a href="#" data-target=".set_theory">Set Theory</a>
                        
                            <a href="#" data-target=".logic">Logic</a>
                        
                            <a href="#" data-target=".linear_algebra">Linear Algebra</a>
                        
                    </div>
                    
                        <div class="arithmetic toolbar">
                            
                                <div>
                                    <a href="#" data-content="#i" title="imaginary unit">\(i\)</a><a href="#" data-content="+" title="plus/positive">\(+\)</a><a href="#" data-content="-" title="minus/negative">\(-\)</a><a href="#" data-content="&amp;pm" title="plus or minus / positive or negative">\(\pm\)</a><a href="#" data-content="&amp;mp" title="minus or plus / negative or positive">\(\mp\)</a><a href="#" data-content="*" title="times">\(*\)</a><a href="#" data-content="/" title="divided by">\(/\)</a><a href="#" data-content="^" title="power">\({}^\wedge\)</a><a href="#" data-content="sqrt({%-CURSOR-%})" title="square root">\(\sqrt{}\)</a><a href="#" data-content="root(a{%-CURSOR-%},n)" title="nth root">\(\sqrt[n]{}\)</a><a href="#" data-content="log(a{%-CURSOR-%},n)" title="log with base">\(\log_n{a}\)</a><a href="#" data-content="exp({%-CURSOR-%})" title="natural exponentiation">\(\exp{}\)</a><a href="#" data-content="ln({%-CURSOR-%})" title="natural log">\(\ln{}\)</a><a href="#" data-content="|: {%-CURSOR-%} :|" title="absolute value">\(|\,|\)</a><a href="#" data-content="!" title="factorial">\(!\)</a><a href="#" data-content=" mod " title="modulus">\(\mathrm{mod}\)</a><a href="#" data-content="::" title="ratio">\(::\)</a><a href="#" data-content=" as " title="ratio equality">\(\mathrm{as}\)</a><a href="#" data-content="=" title="equal">\(=\)</a><a href="#" data-content="!=" title="not equal">\(\ne\)</a><a href="#" data-content="&lt;" title="less than">\(&lt;\)</a><a href="#" data-content="&gt;" title="greater than">\(&gt;\)</a><a href="#" data-content="&lt;=" title="less than or equal">\(\le\)</a><a href="#" data-content="&gt;=" title="greater than or equal">\(\ge\)</a><a href="#" data-content="({%-CURSOR-%})" title="parentheses">\((\,)\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="algebra toolbar">
                            
                                <div>
                                    <a href="#" data-content="#N" title="natural numbers">\(\mathbb{N}\)</a><a href="#" data-content="#Z" title="integers">\(\mathbb{Z}\)</a><a href="#" data-content="#Q" title="rational numbers">\(\mathbb{Q}\)</a><a href="#" data-content="#R" title="real numbers">\(\mathbb{R}\)</a><a href="#" data-content="#C" title="complex numbers">\(\mathbb{C}\)</a><a href="#" data-content="@" title="function composition">\(\circ\)</a><a href="#" data-content="sum(f,i)" title="sum over domain set">\(\sum_i f\)</a><a href="#" data-content="sum(f,i,a,b)" title="sum over range">\(\sum_{i=a}^b f\)</a><a href="#" data-content="prod(f,i)" title="product over domain set">\(\prod_i f\)</a><a href="#" data-content="prod(f,i,a,b)" title="product over range">\(\prod_{i=a}^b f\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="geometry toolbar">
                            
                                <div>
                                    <a href="#" data-content="#pi" title="pi">\(\pi\)</a><a href="#" data-content="(: {%-CURSOR-%} :)" title="open interval">\(\left(\,\right)\)</a><a href="#" data-content="(: {%-CURSOR-%} :]" title="half-open interval (left)">\(\left(\,\right]\)</a><a href="#" data-content="[: {%-CURSOR-%} :)" title="half-open interval (right)">\(\left[\,\right)\)</a><a href="#" data-content="[: {%-CURSOR-%} :]" title="closed interval">\(\left[\,\right]\)</a><a href="#" data-content="&amp;D" title="coordinate difference">\(\Delta\)</a><a href="#" data-content="::" title="ratio">\(::\)</a><a href="#" data-content=" as " title="ratio equality">\(\mathrm{as}\)</a><a href="#" data-content="~=" title="congruent">\(\cong\)</a><a href="#" data-content="~" title="similar">\(\sim\)</a><a href="#" data-content=" para " title="parallel">\(\parallel\)</a><a href="#" data-content=" perp " title="perpendicular">\(\perp\)</a><a href="#" data-content="&lt;: {%-CURSOR-%} :&gt;" title="vector brackets">\(\langle\,\rangle\)</a><a href="#" data-content="&amp;v u" title="vector">\(\vec{u}\)</a><a href="#" data-content="&amp;u u" title="unit vector">\(\hat{u}\)</a><a href="#" data-content="|: {%-CURSOR-%} :|" title="vector length">\(|\,|\)</a><a href="#" data-content="||: {%-CURSOR-%} :||" title="norm / vector length">\(\|\,\|\)</a><a href="#" data-content="#v0" title="zero vector">\(\vec{0}\)</a><a href="#" data-content="#ui" title="i unit vector">\(\hat\imath\)</a><a href="#" data-content="#uj" title="j unit vector">\(\hat\jmath\)</a><a href="#" data-content="#uk" title="k unit vector">\(\hat{k}\)</a><a href="#" data-content="&amp;." title="dot product">\(\cdot\)</a><a href="#" data-content="&amp;x" title="cross product">\(\times\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="trigonometry toolbar">
                            
                                <div>
                                    <a href="#" data-content="sin({%-CURSOR-%})" title="sine function">\(\sin{}\)</a><a href="#" data-content="cos({%-CURSOR-%})" title="cosine function">\(\cos{}\)</a><a href="#" data-content="tan({%-CURSOR-%})" title="tangent function">\(\tan{}\)</a><a href="#" data-content="sec({%-CURSOR-%})" title="secant function">\(\sec{}\)</a><a href="#" data-content="csc({%-CURSOR-%})" title="cosecant function">\(\csc{}\)</a><a href="#" data-content="cot({%-CURSOR-%})" title="cotangent function">\(\cot{}\)</a><a href="#" data-content="arcsin({%-CURSOR-%})" title="inverse sine function">\(\arcsin{}\)</a><a href="#" data-content="arccos({%-CURSOR-%})" title="inverse cosine function">\(\arccos{}\)</a><a href="#" data-content="arctan({%-CURSOR-%})" title="inverse tangent function">\(\arctan{}\)</a><a href="#" data-content="arcsec({%-CURSOR-%})" title="inverse secant function">\(\mathrm{arcsec}\)</a><a href="#" data-content="arccsc({%-CURSOR-%})" title="inverse cosecant function">\(\mathrm{arccsc}\)</a><a href="#" data-content="arccot({%-CURSOR-%})" title="inverse cotangent function">\(\mathrm{arccot}\)</a>
                                </div>
                            
                                <div>
                                    <a href="#" data-content="sinh({%-CURSOR-%})" title="hyperbolic sine function">\(\sinh{}\)</a><a href="#" data-content="cosh({%-CURSOR-%})" title="hyperbolic cosine function">\(\cosh{}\)</a><a href="#" data-content="tanh({%-CURSOR-%})" title="hyperbolic tangent function">\(\tanh{}\)</a><a href="#" data-content="sech({%-CURSOR-%})" title="hyperbolic secant function">\(\mathrm{sech}\)</a><a href="#" data-content="csch({%-CURSOR-%})" title="hyperbolic cosecant function">\(\mathrm{csch}\)</a><a href="#" data-content="coth({%-CURSOR-%})" title="hyperbolic cotangent function">\(\coth{}\)</a><a href="#" data-content="arcsinh({%-CURSOR-%})" title="inverse hyperbolic sine function">\(\mathrm{arcsinh}\)</a><a href="#" data-content="arccosh({%-CURSOR-%})" title="inverse hyperbolic cosine function">\(\mathrm{arccosh}\)</a><a href="#" data-content="arctanh({%-CURSOR-%})" title="inverse hyperbolic tangent function">\(\mathrm{arctanh}\)</a><a href="#" data-content="arcsech({%-CURSOR-%})" title="inverse hyperbolic secant function">\(\mathrm{arcsech}\)</a><a href="#" data-content="arccsch({%-CURSOR-%})" title="inverse hyperbolic cosecant function">\(\mathrm{arccsch}\)</a><a href="#" data-content="arccoth({%-CURSOR-%})" title="inverse hyperbolic cotangent function">\(\mathrm{arccoth}\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="discrete toolbar">
                            
                                <div>
                                    <a href="#" data-content="#N" title="natural numbers">\(\mathbb{N}\)</a><a href="#" data-content="#Z" title="integers">\(\mathbb{Z}\)</a><a href="#" data-content="!" title="factorial">\(!\)</a><a href="#" data-content="floor({%-CURSOR-%})" title="floor">\(\left\lfloor\,\right\rfloor\)</a><a href="#" data-content="ceil({%-CURSOR-%})" title="ceiling">\(\left\lceil\,\right\rceil\)</a><a href="#" data-content=" mod " title="modulus">\(\mathrm{mod}\)</a><a href="#" data-content="|" title="divides">\(\mid\)</a><a href="#" data-content="!|" title="does not divide">\(\nmid\)</a><a href="#" data-content="C(n,r)" title="bonimal coefficient (choose/combination)">\(\binom{c}{r}\)</a><a href="#" data-content="P(n,r)" title="permutation">\(P(n,r)\)</a><a href="#" data-content="sum(f{%-CURSOR-%},i)" title="sum over domain set">\(\sum_i f\)</a><a href="#" data-content="sum(f{%-CURSOR-%},i,a,b)" title="sum over range">\(\sum_{i=a}^b f\)</a><a href="#" data-content="prod(f{%-CURSOR-%},i)" title="product over domain set">\(\prod_i f\)</a><a href="#" data-content="prod(f{%-CURSOR-%},i,a,b)" title="product over range">\(\prod_{i=a}^b f\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="calculus toolbar">
                            
                                <div>
                                    <a href="#" data-content="#pi" title="pi">\(\pi\)</a><a href="#" data-content="#e" title="e">\(\mathrm{e}\)</a><a href="#" data-content="#gamma" title="gamma constant">\(\gamma\)</a><a href="#" data-content=" infinity " title="infinity">\(\infty\)</a><a href="#" data-content="#R" title="real numbers">\(\mathbb{R}\)</a><a href="#" data-content="#C" title="complex numbers">\(\mathbb{C}\)</a><a href="#" data-content="lim(f{%-CURSOR-%},x,a)" title="limit">\(\displaystyle\lim_{x\to a} f\)</a><a href="#" data-content="diff(f{%-CURSOR-%},x)" title="derivative">\(\frac{\mathrm{d}f}{\mathrm{d}x}\)</a><a href="#" data-content="pdiff(f{%-CURSOR-%},x)" title="partial derivative">\(\frac{\partial f}{\partial x}\)</a><a href="#" data-content="&#x27;" title="prime derivative">\(f&#x27;\)</a><a href="#" data-content="." title="dot derivative">\(\dot{x}\)</a><a href="#" data-content="sum(f(x&amp;_i)*&amp;Dx&amp;_i,i,1,n)" title="finite sum">\(\sum_{i=1}^n f(x_i) \Delta x_i\)</a><a href="#" data-content="int(f{%-CURSOR-%},x)" title="indefinite integration">\(\int f \mathrm{d}x\)</a><a href="#" data-content="int(f{%-CURSOR-%},x,a,b)" title="definite integration">\(\int_a^b f \mathrm{d}x\)</a><a href="#" data-content="&amp;D" title="change">\(\Delta\)</a><a href="#" data-content="&amp;d" title="differential">\(\mathrm{d}\)</a><a href="#" data-content="&amp;pd" title="partial differential">\(\partial\)</a><a href="#" data-content="sum(a&amp;_i{%-CURSOR-%},i,1,infinity)" title="infinite series">\(\sum_{i=1}^\infty a_i\)</a><a href="#" data-content="&amp;." title="dot product">\(\cdot\)</a><a href="#" data-content="&amp;x" title="cross product">\(\times\)</a><a href="#" data-content="&amp;w" title="wedge product">\(\wedge\)</a><a href="#" data-content="&amp;del" title="gradient">\(\vec\nabla\)</a><a href="#" data-content="&amp;del." title="divergence">\(\vec\nabla \cdot\)</a><a href="#" data-content="&amp;delx" title="curl">\(\vec\nabla \times\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="set_theory toolbar">
                            
                                <div>
                                    <a href="#" data-content="{ {%-CURSOR-%} }" title="set delimiter">\(\{\,\}\)</a><a href="#" data-content=":" title="such that">\(:\)</a><a href="#" data-content="#U" title="universal set">\(\mathbb{U}\)</a><a href="#" data-content="{}" title="empty set">\(\emptyset\)</a><a href="#" data-content="#N" title="natural numbers">\(\mathbb{N}\)</a><a href="#" data-content="#Z" title="integer ring">\(\mathbb{Z}\)</a><a href="#" data-content="#Q" title="rational field">\(\mathbb{Q}\)</a><a href="#" data-content="#R" title="real field">\(\mathbb{R}\)</a><a href="#" data-content="#C" title="complex field">\(\mathbb{C}\)</a><a href="#" data-content="#H" title="quaternion ring">\(\mathbb{H}\)</a><a href="#" data-content="#O" title="octonian algebra">\(\mathbb{O}\)</a><a href="#" data-content=" subset " title="subset">\(\subseteq\)</a><a href="#" data-content=" superset " title="super set">\(\supseteq\)</a><a href="#" data-content=" propsubset " title="proper subset">\(\subset\)</a><a href="#" data-content=" propsuperset " title="proper superset">\(\supset \)</a><a href="#" data-content=" in " title="inclusion">\(\in\)</a><a href="#" data-content=" union " title="union">\(\cup\)</a><a href="#" data-content=" intersect " title="intersection">\(\cap\)</a><a href="#" data-content="\" title="set difference">\(\setminus\)</a><a href="#" data-content="&amp;*" title="cartesian product">\(\times\)</a><a href="#" data-content="&amp;o+" title="direct sum">\(\oplus\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="logic toolbar">
                            
                                <div>
                                    <a href="#" data-content="true" title="true">\(\mathbf{T}\)</a><a href="#" data-content="false" title="false">\(\mathbf{F}\)</a><a href="#" data-content="&amp;&amp;" title="and">\(\wedge\)</a><a href="#" data-content="||" title="or">\(\vee\)</a><a href="#" data-content=" xor " title="exclusive or">\(\oplus\)</a><a href="#" data-content="~" title="negation">\(\neg\)</a><a href="#" data-content="-&gt;" title="implies">\(\rightarrow\)</a><a href="#" data-content="&lt;-" title="implied by">\(\leftarrow\)</a><a href="#" data-content="&lt;-&gt;" title="if and only if">\(\leftrightarrow\)</a><a href="#" data-content="===" title="equivalent">\(\equiv\)</a><a href="#" data-content="!==" title="not equivalent">\(\not\equiv\)</a><a href="#" data-content=" forall {%-CURSOR-%} , " title="universal quantification (&quot;for all&quot;)">\(\forall\)</a><a href="#" data-content=" exists {%-CURSOR-%} : " title="existential quantification (&quot;there exists&quot;)">\(\exists\)</a><a href="#" data-content=" unique {%-CURSOR-%} : " title="unique quantification (&quot;there exists a unique&quot;)">\(\exists !\)</a>
                                </div>
                            
                        </div>
                    
                        <div class="linear_algebra toolbar">
                            
                                <div>
                                    <a href="#" data-content="&lt;: {%-CURSOR-%} :&gt;" title="vector delimiter">\(\langle\,\rangle\)</a><a href="#" data-content="#ui" title="x unit vector">\(\hat\imath\)</a><a href="#" data-content="#uj" title="y unit vector">\(\hat\jmath\)</a><a href="#" data-content="#uk" title="z unit vector">\(\hat{k}\)</a><a href="#" data-content="[ {%-CURSOR-%} ]" title="list/matrix delimiter">\([\,]\)</a><a href="#" data-content="#0" title="zero matrix">\(\mathbf{0}\)</a><a href="#" data-content="#1" title="identity/unit matrix">\(\mathbf{I}\)</a><a href="#" data-content="&lt;: {%-CURSOR-%} | :&gt;" title="bra-ket">\(\left\langle\,\mid\,\right\rangle\)</a><a href="#" data-content="&lt; {%-CURSOR-%} |" title="bra">\(\left\langle\,\right|\)</a><a href="#" data-content="| {%-CURSOR-%} &gt;" title="ket">\(\left|\,\right\rangle\)</a><a href="#" data-content="#v0" title="zero vector">\(\vec{0}\)</a><a href="#" data-content="&amp;w" title="wedge product">\(\wedge\)</a><a href="#" data-content="&amp;ox" title="tensor product">\(\otimes\)</a>
                                </div>
                            
                        </div>
                    
                </div>
            
        </div>

        <div class="inbox">
            <a class="delete-icon" href="#" title="clear">clear</a>
            <textarea name="math" id="math_input" class="expand" placeholder="Enter a mathematical expression..."></textarea>
        </div>

        <div id="math_output">\[\mathrm{\LaTeX\ Output}\]</div>

        <div class="outbox">
            <label for="tex_output">Translated LaTeX Code</label>
            <div id="tex_output"><code>Output LaTeX Code</code></div>
        </div>
        <div class="outbox">
            <label for="sage_output">Translated Sage Code <span class="highlight">(Incomplete)</span></label>
            <div id="sage_output"><code>Output Sage Code</code></div>
        </div>
        <div class="outbox">
            <label for="ast_output">Interpreted Syntax Tree</label>
            <div id="ast_output"><code>Output Syntax Tree</code></div>
        </div>

        <h2>Instructions</h2>
        <p>
            The toolbars above are just for your convenience; there are multiple alternatives for many of the symbol and operator tokens.
            For example, the "not equal" relation can be written as <code>&lt;&gt;</code> (from SQL), <code>!=</code> (traditional), or <code>/=</code> (from Haskell).
            The language is designed to be intuitive, so feel free to experiment. Try finding all six keywords for "proper superset".
        </p>
        <p>
            Enter a mathematical expression and watch the rendering and parse tree evolve as you type.
            Please note that no LaTeX/AST output will be rendered until a successful parse.
            To help maximize the frequency of successful parses, the Lexer will attempt to fix unmatched delimiters as you type.
            Also note that some delimiters have more than one format either with or without colons. Namely, absolute value can be written as
            <code class="math">| ... |</code> or <code class="math">|: ... :|</code>, norm can be written as <code class="math">|| ... ||</code>
            or <code class="math">||: ... :||</code>, and vector literals can be surrounded by either <code class="math">&lt; ... &gt;</code>
            or <code class="math">&lt;: ... :&gt;</code>. Delimiters without colons are <em>context-aware</em> in that they have different meanings
            other than as delimiters and therefore cannot be automatically matched by the Lexer. Additionally, if an expression opened
            with one type of delimiter, it must be closed with the same type (i.e. context-aware vs. specialized).
        </p>

        <h2>Documentation</h2>
        <p>
            A comprehensive list of symbols and tokens may be downloaded from <a href="doc/Symbols.pdf">here</a> (PDF).
            More documentation will be made available as this project matures.
        </p>

        <h2>Sample Inputs</h2>
        <p>
            Click on an expression below to use it as the mathematical input above.
        <ul>
            <li>Slope-Intercept form: <code class="math"><a href="#math_input">y = m*x + b</a></code></li>
            <li>Quadratic form: <code class="math"><a href="#math_input">a*x^2 + b*x + c = 0</a></code></li>
            <li>Quadratic equation:
                <ul>
                    <li>Traditional: <code class="math"><a href="#math_input">x = (-b &amp;pm sqrt(b^2 - 4*a*c))/(2*a)</a></code></li>
                    <li>Set form: <code class="math"><a href="#math_input">x in {(-b+sqrt(b^2-4*a*c))/(2*a), (-b-sqrt(b^2-4*a*c))/(2*a)}</a></code></li>
                </ul>
            </li>
            <li>Volume of a Sphere: <code class="math"><a href="#math_input">V = 4/3*#pi*r^3</a></code></li>
            <li>Integration: <code class="math"><a href="#math_input">int(1/(1+x^2), x, 0, 1) = #p/4</a></code></li>
            <li>Differentiation: <code class="math"><a href="#math_input">diff(arcsin(x), x) = 1/sqrt(1-x^2)</a></code></li>
            <li>Limits:
                <ul>
                    <li><code class="math"><a href="#math_input">f'(x) = lim((f(x+h)-f(x))/h, h, 0)</a></code></li>
                    <li><code class="math"><a href="#math_input">limit((1+r/n)^(t/n), n, infinity) = #e^(r*t)</a></code></li>
                </ul>
            </li>
            <li>Logarithms: <code class="math"><a href="#math_input">ln(x) = log(x, #e)</a></code></li>
            <li>Sums and Products:
                <ul>
                    <li>On Relations: <code class="math"><a href="#math_input">sum(root(a, 3), a in A)</a></code>,
                        <code class="math"><a href="#math_input">prod(exp(5/n), n > 3)</a></code></li>
                    <li>Over Ranges: <code class="math"><a href="#math_input">sum(1/n, n, 0, #infinity) = infinity</a></code>,
                        <code class="math"><a href="#math_input">prod(x^2, x, a, b)</a></code></li>
                </ul>
            </li>
            <li>Vectors:
                <ul>
                    <li>Unit Vectors: <code class="math"><a href="#math_input">#vi = x*#vi/||x*#vi||</a></code></li>
                    <li>Volume of Parallelepiped: <code class="math"><a href="#math_input">V = | &lt;u_x, u_y, u_z&gt; &amp;. &lt;: v_x, v_y, v_z :&gt; &amp;x &lt;w_x, w_y, w_z&gt; |</a></code></li>
                    <li>Area of a Parallelogram: <code class="math"><a href="#math_input">A = ||: &amp;v v &amp;x &amp;v w :||</a></code></li>
                </ul>
            </li>
            <li>Logical connectives: <code class="math"><a href="#math_input">p and (q or r) === p &amp;&amp; q || p &amp;&amp; r</a></code></li>
            <li>Definition of the <em>subset</em> relation: <code class="math"><a href="#math_input">A subset B &lt;-&gt; a in A implies a in B</a></code></li>
            <li>Definition of Big-Oh (Notice two different forms for "absolute value"): <br/>
                <code class="math"><a href="#math_input">f(x) in O(g(x)) iff exists x&amp;_0 in #Z : exists C in #R : forall x&gt;x&amp;_0 , |f(x)|&lt;=C*|:g(x):|</a></code></li>
            <li>Ranges:
                <ul>
                    <li>Open: <code class="math"><a href="#math_input">x = [:a,b:]</a></code></li>
                    <li>Closed: <code class="math"><a href="#math_input">x = (:a,b:)</a></code></li>
                    <li>Half-Open: <code class="math"><a href="#math_input">x = [:a,#infinity:)</a></code></li>
                </ul>
            </li>
            <li>Lists: <code class="math"><a href="#math_input">[#pi, #e, #gamma]</a></code>
        </ul>
    </div>
    <footer>
        <p>
            Copyright &copy;2012 Matthew J. Barry. All rights reserved.
        </p>
        <p>
            <img src="images/nsf.gif" width="32" valign="middle" alt="National Science Foundation Logo" /> Supported in part by NSF DUE CCLI / TUES Grants
            <a target="_blank" href="http://nsf.gov/awardsearch/showAward.do?AwardNumber=0737209">#0737209</a> / <a target="_blank" href="http://nsf.gov/awardsearch/showAward.do?AwardNumber=1123170">#1123170</a> (Meade)
            and <a target="_blank" href="http://nsf.gov/awardsearch/showAward.do?AwardNumber=0737248">#0737248</a> / <a target="_blank" href="http://nsf.gov/awardsearch/showAward.do?AwardNumber=1123255">#1123255</a> (Yasskin)
        </p>
        <p>
            LaTeX Rendered by <a target="_blank" href="http://www.mathjax.org">MathJax</a>.
        </p>
    </footer>

    <script src="build/browser/parser.opt.min.js"></script>

    <!-- Attempt to load jQuery from Google CDN; fall back to local if offline -->
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="js/libs/jquery-1.7.1.min.js"><\/script>');</script>
    <script src="js/jquery.textarea-expander.js"></script>
    <script src="js/cursor.js"></script>

    <script>
        // if this is changed here, don't forget to change it in palettes.js
        var CURSOR_ID = '{%-CURSOR-%}'

        $(document).ready(function() {
            var mathInput  = $('#math_input'),
                mathOutput = $('#math_output'),
                astOutput  = $('#ast_output'),
                sageOutput = $('#sage_output'),
                rawOutput  = $('#tex_output'),
                mjQueue    = MathJax.Hub.queue,
                mjOutBox;

            // make ouput box variable available to dynamic content setter
            mjQueue.Push(function() {
                mjOutBox = MathJax.Hub.getAllJax('math_output')[0];
            });

            function updateMath(math) {
                var ast, result;
                mathOutput.css({'color': '#000'});

                try {
                    if (math.length > 0) {
                        // attempt to parse mathematical input and display rendered LaTeX
                        ast = MathParser.parse(math);
                        latex = MathParser.render(ast, 'latex');
                        mjQueue.Push(['Text', mjOutBox, "\\displaystyle{" + latex + "}"]);
                        rawOutput.html('<pre>' + latex + '<\/pre>')
                        astOutput.html('<pre>' + MathParser.render(ast, 'text-tree') + '<\/pre>');
                        sageOutput.html('<pre>' + MathParser.render(ast, 'sage') + '<\/pre>');
                    } else {
                        mjQueue.Push(['Text', mjOutBox, "\\displaystyle{\\mathrm{\\LaTeX\\ Output}}"]);
                        rawOutput.html('<code>Raw LaTeX Output</code>');
                        astOutput.html('<code>Parse Tree<\/code>');
                        sageOutput.html('<code>Sage Output<\/code>');
                    }
                } catch (err) {
                    // if we encounter a parse error, change color of output box
                    mathOutput.css({'color': '#f00'});
                    throw err
                }
            }

            $('code.math a').click(function(evt) {
                var math = $(this).text();
                mathInput.val(math);
                updateMath(math);
            });

            // keyup event binding to input text box
            mathInput
                .live('keyup', function(evt) {
                    updateMath($(this).val());
                })
                .val('')
                // .focus()
            ;

            // clear button
            $('a.delete-icon').live('click', function(evt) {
                evt.preventDefault();
                mathInput.val('');
                mathInput.TextAreaExpander();
                updateMath('');
            })

            // toolbars
            $('.toolbars .ribbon .tabs a')
                .click(function(evt) {
                    evt.preventDefault();
                    $(this).toggleClass('open').parent().siblings(this.dataset['target'])
                        .toggleClass('open')
                        .slideToggle(200)
                    ;
                })
            ;

            $('.toolbar a[data-content]')
                .click(function(evt) {
                    evt.preventDefault();

                    var element = document.getElementById('math_input'),
                        math = this.dataset['content'],
                        cursorOffset, insertPos;

                    // is there a cursor position?
                    cursorOffset = math.indexOf(CURSOR_ID);
                    math = math.replace(CURSOR_ID, '');

                    insertPos = insertAtCursor(element, math, false);

                    if (cursorOffset <= 0) cursorOffset = math.length;
                    setCursorPosition(element, insertPos + cursorOffset);

                    updateMath(mathInput.val());
                })
            ;
        });
    </script>
</body>

</html>
