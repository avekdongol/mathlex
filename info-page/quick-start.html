<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>MathLex | Quick Start</title>
    <link rel="stylesheet" href="stylesheets/style.css">
  </head>
  <body class="dark"><a id="power-button"><span class="screen-reader-text">Toggle light and dark theme</span><span data-icon="&#128161;" aria-hidden="true" class="icon icon-only"></span></a>
    <header>
      <h1>MathLex
        <div class="subtitle">A Web-Based Mathematical Entry System</div>
      </h1>
      <nav>
        <ul>
          <li><a href="index.html"><span>Home</span></a></li>
          <li class="current"><a href="quick-start.html" class="current"><span>Quick-Start</span></a></li>
          <li><a href="doc.html"><span>Documentation</span></a></li>
          <li><a href="demo.html"><span>Demo</span></a></li>
        </ul>
      </nav>
    </header>
    <article>
      <p>
        This page is meant to be a 5-minute crash-course on how to use the provided MathLex
        JavaScript library. For more information, please visit the <a href="doc.html">full documentation</a>.
      </p>
      <h1 id="quick-start">Quick Start</h1>
      <p>
        Include the MathLex JS file in your HTML with the following code. I recommend putting
        JavaScripts just before the closing <code>&lt;/body&gt;</code> tag, but you can put it in your
        <code>&lt;head&gt;</code> or wherever works best for you.
      </p>
      <p class="note">
        If you would like to code along with me, you can create files on your computer or use an online
        HTML sandbox tool such as <a href="http://codepen.io" target="_blank">CodePen</a> or
        <a href="http://jsfiddle.net" target="_blank">JSFiddle</a>.
      </p>
      <pre class="brush: html; highlight: 1">&lt;script src=&quot;/path/to/mathlex.js&quot;&gt;&lt;/script&gt;

&lt;!-- optional libraries depending on page preferences --&gt;
&lt;script src=&quot;/path/to/jquery.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;/path/to/mathjax.js&quot;&gt;&lt;/script&gt;</pre>
      <p>
        Now suppose you have an input field, button, and output element somewhere
        in your <code>&lt;body&gt;</code>:
      </p>
      <pre class="brush: html">&lt;input type=&quot;text&quot; id=&quot;math-input&quot; /&gt;
&lt;input type=&quot;button&quot; onclick=&quot;renderMathLex('math-input', 'math-output');&quot; value=&quot;Render Math&quot; /&gt;
&lt;div id=&quot;math-output&quot;&gt;\[ \]&lt;/div&gt;</pre>
      <p>
        The <code>renderMathLex()</code> JavaScript function referenced by the button will be
        responsible for processing the mathematical input. The actions taken by this function
        should be something similar to
      </p>
      <pre class="brush: js">var renderMathLex = function (inputID, outputID) {
  // get MathLex from text field identified by `inputID` parameter
  // parse MathLex into an abstract syntax tree
  // render or translate the syntax tree into another format
  // do something with the translated math code
}</pre>
      <p>
        Each step of this function will be discussed in detail below, and all discussed JavaScript code
        wll be contained within this function.
        
      </p>
      <h2>Line 2: Obtaining MathLex input</h2>
      <p>
        The value of the <code>math-input</code> text field is easy to obtain. For example, here
        is an exhaustive list of several JavaScript toolkits and how they obtain a text field's value.
        Any one of the following methods (if you are not sure which one to use, just pick the
        highlighted <em>standard JS</em> code) could be used in a separate JavaScript file or in your page's HTML inside a
        <code>&lt;script&gt;</code> tag:
      </p>
      <pre class="brush: js; highlight: [3,4]">// get MathLex from text field identified by `inputID` parameter

// standard JS:
var mathText = document.getElementById(inputID).value;

// jQuery (see http://jquery.com):
var mathText = $('#' + inputID).val();

// MooTools (see http://mootools.net):
var mathText = document.id(inputID).value;

// Prototype (see http://prototypejs.org):
var mathText = $(inputID).value;

// YUI (see http://yuilibrary.com):
var mathText = Y.one('#' + inputID).get('value');

// Dojo (see http://dojotoolkit.org):
var mathText = dom.byId(inputID).value;
</pre>
      <p>
        <code>mathText</code> is now the name given to the MathLex input value, but you can use whatever name you want
        as long as it's not a <a href="https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Reserved_Words" target="_blank">reserved keyword</a>.
        
      </p>
      <h2>Line 3: Parsing MathLex Input</h2>
      <p>Once you have some MathLex input, pass it to the <code>MathParser.parse()</code> function.</p>
      <pre class="brush: js">// parse MathLex into an abstract syntax tree
var syntaxTree = MathParser.parse(mathText);</pre>
      <p>
        This will give back an abstract syntax tree representing the interpreted mathematical
        meaning that can then be rendered/translated into other formats. To improve your web
        page's performance, only parse the MathLex input once. The syntax tree can be used
        multiple times without the overhead of reinterpreting the input's meaning.
        
      </p>
      <h2>Line 4: Rendering the Syntax Tree</h2>
      <p>Once you have a syntax tree, it can be rendered into several other formats:</p>
      <pre class="brush: js">// render or translate the syntax tree into another format
var formattedMathLex = MathParser.render(syntaxTree, targetFormat);</pre>
      <p>
        Where <code>targetFormat</code> is a string containing the name of a renderer.
        There are currently three renderers included by default:
      </p>
      <ul>
        <li>
          <code>'latex'</code>: for use in typesetting (perhaps using
          <a href="#mathjax-integration">MathJax</a>.)
        </li>
        <li>
          <code>'sage'</code> (about 80% complete): Input language for the open source
          <a href="http://www.sagemanth.org" target="_blank">Sage computer algebra system</a>.
        </li>
        <li>
          <code>'text-tree'</code>: outputs a plain text indented tree representation of the abstract
          syntax tree (intended for debugging purposes).
        </li>
      </ul>
      <p>
        Renderers simply walk through the syntax tree recursively, performing a certain action at each
        node. You can look at the provided renderers in the <code>src/render</code> directory and even
        build your own. A list of all node types produced by the parser is included in
        <a href="#appendix-b">Appendix B</a>.
        
      </p>
      <h2>Line 5: Doing Something with Rendered MathLex</h2>
      <p>If you've been coding along, your JavaScript function should look something like this:</p>
      <pre class="brush: js">var renderMathLex = function (inputID, outputID) {
  // get MathLex from text field identified by `inputID` parameter
  var mathText = document.getElementById(inputID).value;
  
  // parse MathLex into an abstract syntax tree
  var syntaxTree = MathParser.parse(mathText);
  
  // render or translate the syntax tree into another format
  // do something with the translated math code
}</pre>
      <p>
        Once you have your desired translation, you can do whatever you want with it.
        Below is a sample use case for each renderer:
        
      </p>
      <div class="tabs">
        <nav>
          <ul>
            <li><a href="#text-tree">Simple Text Tree</a></li>
            <li><a href="#sage-jquery">Sage and jQuery AJAX</a></li>
            <li><a href="#latex-mathjax">LaTeX and MathJax</a></li>
          </ul>
        </nav>
        <div class="content">
          <div id="text-tree">
            <pre class="brush: js">var treeCode  = MathParser.render(syntaxTree, 'text-tree');
document.getElementById(outputID).innerHTML = treeCode;
</pre>
          </div>
          <div id="sage-jquery">
            <pre class="brush: js">var sageCode  = MathParser.render(syntaxTree, 'sage');
$.post('http://example.com/sage-handler', {sage: sageCode}, function (data) {
  alert('Sage Code Sent');
});
</pre>
          </div>
          <div id="latex-mathjax">
            <pre class="brush: js">var latexCode = MathParser.render(syntaxTree, 'latex');

var mjQueue = MathJax.Hub.queue;
mjQueue.Push(function () {
  var mjOutBox = MathJax.Hub.getAllJax(outputID)[0];
  mjQueue.Push(['Text', mjOutBox, latexCode]);
});
</pre>
          </div>
        </div>
      </div>
      <p>Want to know more? <a href="doc.html">Read the full documentation</a>.</p>
      <h2 id="summary">Summary Example</h2>
      <p>
        Here is a comprehensive example that captures input from an HTML text field, displays a
        "live-updating preview" for immediate feedback, and contains a submit button to send the
        parsed math to a Sage server.
      </p>
      <pre class="brush: js; html-script: true">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;input type=&quot;text&quot; id=&quot;math-input&quot; placeholder=&quot;Type math here&quot; /&gt;
    &lt;input type=&quot;button&quot; id=&quot;send-math&quot; value=&quot;Send to Sage&quot; /&gt;
    &lt;div id=&quot;math-output&quot;&gt;\[ \]&lt;/div&gt;
    
    &lt;script src=&quot;http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;/path/to/mathlex.js&quot;&gt;&lt;/script&gt;
    &lt;script&gt;
      $(document).ready(function () {
        // get MathJax output object
        var mjOutBox;
        MathJax.Hub.queue.Push(function () {
          mjOutBox = MathJax.Hub.getAllJax('math-output')[0];
        });
        
        // &quot;live update&quot; MathJax whenever a key is pressed
        $('#math-input').on('keyup', function (evt) {
          var math = $(this).val();
          $(this).css('color', 'black')
          
          if (math.length &gt; 0) {
            try {
              var ast   = MathParser.parse(math),
                  latex = MathParser.render(ast, 'latex');
              MathJax.Hub.queue.Push(['Text', mjOutBox, latex]);
            } catch (err) {
              $(this).css('color', 'red');
            }
          }
        });
        
        // send output to sage server
        $('#send-math').on('click', function (evt) {
          var math = $('#math-input').val();
          
          if (math.length &gt; 0) {
            try {
              var sageCode = MathParser.render(MathParser.parse(math), 'sage');
              $.post('http://example.org/sage', {sage: sageCode}, function (data) {
                // AJAX success callback
                if (data.match(/True/)) {
                  alert('Correct!');
                } else {
                  alert('Incorrect!');
                }
              }, function (data) {
                // AJAX failure callback
                alert('Could not communicate with Sage server.');
              });
            } catch (err) {
              alert('Check your syntax and try again.');
            }
          }
        });
      });
    &lt;/script&gt;
  &lt;/body&gt;
&lt;/html&gt;
</pre>
    </article>
    <footer>
      <p>Copyright &copy; 2012 Matthew Barry. All rights reserved.</p>
      <p>MathLex is to be used for testing purposes only. It is not to be used in any product without explicit permission from the author.</p>
    </footer>
    <script src="javascripts/lib/syntaxhighlighter/scripts/XRegExp.js"></script>
    <script src="javascripts/lib/syntaxhighlighter/scripts/shCore.js"></script>
    <script src="javascripts/lib/syntaxhighlighter/scripts/shAutoloader.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script src="javascripts/main.js"></script>
    <script src="javascripts/jquery.tabs.js"></script><script type="text/javascript">
(function() {

  $(document).ready(function() {
    return $('.tabs').tabs();
  });

}).call(this);
</script>
  </body>
</html>